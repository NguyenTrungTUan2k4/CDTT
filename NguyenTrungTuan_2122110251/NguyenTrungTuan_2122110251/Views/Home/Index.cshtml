@using System
@using NguyenTrungTuan_2122110251.Context
@model NguyenTrungTuan_2122110251.Models.HomeModel
@{
    ViewBag.Title = "Home Page";
}

<main>
<section id="home-section" class="hero">
    <div class="home-slider owl-carousel">
            <div class="slider-item" style="background-image: url('@Url.Content("~/Content/images/bg_1.jpg")');">
            <div class="overlay"></div>
            <div class="container">
                <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">

                    <div class="col-md-12 ftco-animate text-center">
                            <h1 class="mb-2">We serve Fresh Vegestables &amp; Fruits</h1>
                        <h2 class="subheading mb-4">We deliver organic vegetables &amp; fruits</h2>
                        <p><a href="#" class="btn btn-primary">View Details</a></p>
                    </div>

                </div>
            </div>
        </div>

            <div class="slider-item" style="background-image: url('@Url.Content("~/Content/images/bg_2.jpg")');">
            <div class="overlay"></div>
            <div class="container">
                <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">

                    <div class="col-sm-12 ftco-animate text-center">
                        <h1 class="mb-2">100% Fresh &amp; Organic Foods</h1>
                        <h2 class="subheading mb-4">We deliver organic vegetables &amp; fruits</h2>
                        <p><a href="#" class="btn btn-primary">View Details</a></p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section">
    <div class="container">
        <div class="row no-gutters ftco-services">
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-1 active d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-shipped"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Free Shipping</h3>
                        <span>On order over $100</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-2 d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-diet"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Always Fresh</h3>
                        <span>Product well package</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-3 d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-award"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Superior Quality</h3>
                        <span>Quality Products</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                <div class="media block-6 services mb-md-0 mb-4">
                    <div class="icon bg-color-4 d-flex justify-content-center align-items-center mb-2">
                        <span class="flaticon-customer-service"></span>
                    </div>
                    <div class="media-body">
                        <h3 class="heading">Support</h3>
                        <span>24/7 Support</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Categories Section: Custom 2x2 Grid -->
    <section class="ftco-section ftco-category ftco-no-pt" style="padding-top: 40px; padding-bottom: 40px;">
    <div class="container">
        <div class="row">
                <!-- Cột trái -->
                <div class="col-md-4 d-flex flex-column justify-content-between">
                    <div class="category-wrap img mb-4 d-flex align-items-end" style="background-image: url('@Url.Content("~/Content/images/category-1.jpg")'); min-height: 270px;">
                        <div class="text px-3 py-1" style="background: rgba(255,255,255,0.7); width: 100%;">
                            <h2 class="mb-0"><span class="badge" style="background:#7bb661; color:#fff; font-size: 1.2rem;">Fruits</span></h2>
                        </div>
                            </div>
                    <div class="category-wrap img d-flex align-items-end" style="background-image: url('@Url.Content("~/Content/images/category-2.jpg")'); min-height: 270px;">
                        <div class="text px-3 py-1" style="background: rgba(255,255,255,0.7); width: 100%;">
                            <h2 class="mb-0"><span class="badge" style="background:#7bb661; color:#fff; font-size: 1.2rem;">Vegetables</span></h2>
                        </div>
                    </div>
                </div>
                <!-- Cột giữa -->
                <div class="col-md-4 d-flex flex-column align-items-center justify-content-center text-center">
                    <div>
                        <h2 style="color: #7bb661; font-family: 'Lora', serif; font-size: 2.2rem; margin-bottom: 10px;">Vegetables</h2>
                        <p style="font-size: 1.2rem; color: #666; margin-bottom: 24px;">Protect the health of every home</p>
                        <a href="#" class="btn btn-success" style="background: #7bb661; border: none; font-size: 1.1rem; padding: 10px 32px; border-radius: 25px; margin-bottom: 32px;">Shop now</a>
                        <img src="@Url.Content("~/Content/images/category.jpg")" alt="Vegetables" style="max-width: 100%; height: auto; box-shadow: 0 8px 32px rgba(0,0,0,0.08); border-radius: 12px;" />
                    </div>
                            </div>
                <!-- Cột phải -->
                <div class="col-md-4 d-flex flex-column justify-content-between">
                    <div class="category-wrap img mb-4 d-flex align-items-end" style="background-image: url('@Url.Content("~/Content/images/category-3.jpg")'); min-height: 270px;">
                        <div class="text px-3 py-1" style="background: rgba(255,255,255,0.7); width: 100%;">
                            <h2 class="mb-0"><span class="badge" style="background:#7bb661; color:#fff; font-size: 1.2rem;">Juices</span></h2>
                        </div>
                            </div>
                    <div class="category-wrap img d-flex align-items-end" style="background-image: url('@Url.Content("~/Content/images/category-4.jpg")'); min-height: 270px;">
                        <div class="text px-3 py-1" style="background: rgba(255,255,255,0.7); width: 100%;">
                            <h2 class="mb-0"><span class="badge" style="background:#7bb661; color:#fff; font-size: 1.2rem;">Dried</span></h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Products Section -->
    <section class="ftco-section" style="padding-top: 40px; padding-bottom: 40px;">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-md-8 text-center heading-section">
                    <h2 class="mb-4" style="color: #7bb661; font-family: 'Lora', serif;">Our Products</h2>
                </div>
            </div>
            <div class="row">
                @if (Model != null && Model.ListProduct != null && Model.ListProduct.Count > 0)
                {
                    foreach (var product in Model.ListProduct.Take(8)) // Chỉ hiển thị 8 sản phẩm đầu tiên
                    {
                        <div class="col-md-3 mb-4">
                            <div class="product text-center p-3" style="border:1px solid #eee; background:#fff; position:relative; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:transform 0.3s ease;">
                                @if (product.PriceDiscount.HasValue && product.PriceDiscount > 0)
                                {
                                    var discountPercent = Math.Round(((product.Price - product.PriceDiscount.Value) / product.Price) * 100);
                                    <span class="badge" style="position:absolute;left:0;top:0;background:#7bb661;color:#fff;font-size:1rem;">@discountPercent%</span>
                                }
                                <a href="@Url.Action("Detail", "Product", new { id = product.Id })">
                                    <img class="img-fluid mb-3" src="@Url.Content("~/Content/images/items/" + (string.IsNullOrEmpty(product.Image) ? "product-1.jpg" : product.Image))" alt="@product.Name" style="max-height:160px;" onerror="this.src='@Url.Content("~/Content/images/product-1.jpg")'">
                                </a>
                                <h3 style="font-size:1.1rem; font-weight:500; letter-spacing:2px; margin-bottom:8px;">
                                    <a href="@Url.Action("Detail", "Product", new { id = product.Id })" style="color: #333; text-decoration: none;">@product.Name.ToUpper()</a>
                                </h3>
                                @if (product.Category != null)
                                {
                                    <p style="font-size:0.9rem; color:#666; margin-bottom:8px;">@product.Category.Name</p>
                                }
                                @if (product.PriceDiscount.HasValue && product.PriceDiscount > 0)
                                {
                                    <p><span style="text-decoration:line-through; color:#aaa;">$@product.Price.ToString("0.00")</span> <span style="color:#7bb661; font-weight:600;">$@product.PriceDiscount.Value.ToString("0.00")</span></p>
                                }
                                else
                                {
                                    <p><span style="color:#7bb661; font-weight:600;">$@product.Price.ToString("0.00")</span></p>
                                }
                                <div class="mt-3">
                                    <a href="@Url.Action("Detail", "Product", new { id = product.Id })" class="btn btn-outline-primary btn-sm">Xem chi tiết</a>
                                </div>
                            </div>
                        </div>
                    }
                    
                    if (Model.ListProduct.Count > 8)
                    {
                        <div class="col-12 text-center mt-4">
                            <a href="@Url.Action("Index", "Product", new { Id = 0 })" class="btn btn-primary py-3 px-5">Xem tất cả sản phẩm</a>
                        </div>
                    }
                }
                else
                {
                    <div class="col-12 text-center">
                        <div class="empty-products" style="padding: 60px 20px;">
                            <i class="icon-shopping-bag" style="font-size: 4rem; color: #ccc; margin-bottom: 20px; display: block;"></i>
                            <h3 style="color: #333; margin-bottom: 15px;">Chưa có sản phẩm</h3>
                            <p style="color: #666; font-size: 16px; margin-bottom: 30px;">Hiện tại chưa có sản phẩm nào được hiển thị trên trang chủ.</p>
                            <a href="@Url.Action("Index", "Product", new { Id = 0 })" class="btn btn-primary py-3 px-5">Xem tất cả sản phẩm</a>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</section>

    <section class="ftco-section img" style="background-image: url('@Url.Content("~/Content/images/bg_3.jpg")');">
    <div class="container">
        <div class="row justify-content-end">
                <div class="col-md-6 heading-section ftco-animate deal-of-the-day ftco-animate">
                <span class="subheading">Best Price For You</span>
                <h2 class="mb-4">Deal of the day</h2>
                <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia</p>
                <h3><a href="#">Spinach</a></h3>
                <span class="price">$10 <a href="#">now $5 only</a></span>
                <div id="timer" class="d-flex mt-5">
                    <div class="time" id="days"></div>
                    <div class="time pl-3" id="hours"></div>
                    <div class="time pl-3" id="minutes"></div>
                    <div class="time pl-3" id="seconds"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section testimony-section">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-3">
            <div class="col-md-7 heading-section ftco-animate text-center">
                <span class="subheading">Testimony</span>
                <h2 class="mb-4">Our satisfied customer says</h2>
                    <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in</p>
            </div>
        </div>
        <div class="row ftco-animate">
            <div class="col-md-12">
                <div class="carousel-testimony owl-carousel">
                        <div class="item">
                            <div class="testimony-wrap p-4 pb-5">
                                <div class="user-img mb-5" style="background-image: url('@Url.Content($"~/Content/images/person_1.jpg")');">
                                    <span class="quote d-flex align-items-center justify-content-center">
                                        <i class="icon-quote-left"></i>
                                    </span>
                                </div>
                                <div class="text text-center">
                                    <p class="mb-5 pl-4 line">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
                                    <p class="name">Garreth Smith</p>
                                    <span class="position">Marketing Manager</span>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="testimony-wrap p-4 pb-5">
                                <div class="user-img mb-5" style="background-image: url('@Url.Content($"~/Content/images/person_2.jpg")');">
                                    <span class="quote d-flex align-items-center justify-content-center">
                                        <i class="icon-quote-left"></i>
                                    </span>
                                </div>
                                <div class="text text-center">
                                    <p class="mb-5 pl-4 line">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
                                    <p class="name">Garreth Smith</p>
                                    <span class="position">Interface Designer</span>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="testimony-wrap p-4 pb-5">
                                <div class="user-img mb-5" style="background-image: url('@Url.Content($"~/Content/images/person_3.jpg")');">
                                    <span class="quote d-flex align-items-center justify-content-center">
                                        <i class="icon-quote-left"></i>
                                    </span>
                                </div>
                                <div class="text text-center">
                                    <p class="mb-5 pl-4 line">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
                                    <p class="name">Garreth Smith</p>
                                    <span class="position">UI Designer</span>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="testimony-wrap p-4 pb-5">
                                <div class="user-img mb-5" style="background-image: url('@Url.Content($"~/Content/images/person_1.jpg")');">
                                    <span class="quote d-flex align-items-center justify-content-center">
                                        <i class="icon-quote-left"></i>
                                    </span>
                                </div>
                                <div class="text text-center">
                                    <p class="mb-5 pl-4 line">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
                                    <p class="name">Garreth Smith</p>
                                    <span class="position">Web Developer</span>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="testimony-wrap p-4 pb-5">
                                <div class="user-img mb-5" style="background-image: url('@Url.Content($"~/Content/images/person_1.jpg")');">
                                    <span class="quote d-flex align-items-center justify-content-center">
                                        <i class="icon-quote-left"></i>
                                    </span>
                                </div>
                                <div class="text text-center">
                                    <p class="mb-5 pl-4 line">Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
                                    <p class="name">Garreth Smith</p>
                                    <span class="position">System Analyst</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <hr>

    <section class="ftco-section ftco-partner">
        <div class="container">
            <div class="row">
                <div class="col-sm ftco-animate">
                    <a href="#" class="partner"><img src="@Url.Content("~/Content/images/partner-1.png")" class="img-fluid" alt="Partner 1"></a>
                </div>
                <div class="col-sm ftco-animate">
                    <a href="#" class="partner"><img src="@Url.Content("~/Content/images/partner-2.png")" class="img-fluid" alt="Partner 2"></a>
                </div>
                <div class="col-sm ftco-animate">
                    <a href="#" class="partner"><img src="@Url.Content("~/Content/images/partner-3.png")" class="img-fluid" alt="Partner 3"></a>
                </div>
                <div class="col-sm ftco-animate">
                    <a href="#" class="partner"><img src="@Url.Content("~/Content/images/partner-4.png")" class="img-fluid" alt="Partner 4"></a>
                </div>
                <div class="col-sm ftco-animate">
                    <a href="#" class="partner"><img src="@Url.Content("~/Content/images/partner-5.png")" class="img-fluid" alt="Partner 5"></a>
            </div>
        </div>
    </div>
</section>

    <section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
        <div class="container py-4">
            <div class="row d-flex justify-content-center py-5">
                <div class="col-md-6">
                    <h2 style="font-size: 22px;" class="mb-0">Subcribe to our Newsletter</h2>
                    <span>Get e-mail updates about our latest shops and special offers</span>
                </div>
                <div class="col-md-6 d-flex align-items-center">
                    <form action="#" class="subscribe-form">
                        <div class="form-group d-flex">
                            <input type="text" class="form-control" placeholder="Enter email address">
                            <input type="submit" value="Subscribe" class="submit px-3">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</main>

<style>
    .empty-products {
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .product {
        transition: all 0.3s ease;
    }
    
    .product:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 16px rgba(0,0,0,0.15);
    }
    
    .product img {
        transition: transform 0.3s ease;
    }
    
    .product:hover img {
        transform: scale(1.05);
    }
</style>

<script>
    // Thêm hiệu ứng hover cho sản phẩm
    document.addEventListener('DOMContentLoaded', function() {
        const products = document.querySelectorAll('.product');
        products.forEach(function(product) {
            product.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 4px 16px rgba(0,0,0,0.15)';
            });
            
            product.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
            });
        });
    });
</script>